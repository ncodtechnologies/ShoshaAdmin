(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(47)},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(18),r=a.n(c),o=a(5),i=a(1),s=a(2),m=a(19),u=a(20),d=a(23),E=a(22),p=a(8);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var l=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var v=function(e){Object(d.a)(a,e);var t=f(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"logOut",value:function(){localStorage.clear(),window.location.reload()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{class:"main-header navbar navbar-expand navbar-white navbar-light"},l.a.createElement("ul",{class:"navbar-nav ml-auto"})),l.a.createElement("aside",{class:"main-sidebar sidebar-dark-primary elevation-4"},l.a.createElement("a",{href:"index3.html",class:"brand-link"},l.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3"}),l.a.createElement("span",{class:"brand-text font-weight-light"},"Shosha Kamal Admin")),l.a.createElement("div",{class:"sidebar"},l.a.createElement("nav",{class:"mt-2"},l.a.createElement("ul",{class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},l.a.createElement("li",{class:"nav-item"},l.a.createElement(o.c,{to:"/",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-home"}),l.a.createElement("p",null,"Projects "))),l.a.createElement("li",{class:"nav-item"},l.a.createElement(o.c,{to:"/news",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-home"}),l.a.createElement("p",null,"News "))))))))}}]),a}(n.Component),b=a(7),h=a.n(b),g="https://adminextra.shoshakamal.com/php/controllers/",j={ADD_PROJECT:g+"addProject.php",UPD_PROJECT:g+"updProject.php",GET_PROJECT:g+"getProjects.php",GET_PROJECT_DT:g+"getProjectDt.php",ADD_NEWS:g+"addNews.php",GET_NEWS:g+"getNews.php"},O=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),o=Object(s.a)(r,2),m=o[0],u=o[1],d=Object(n.useState)(),E=Object(s.a)(d,2),p=E[0],f=E[1],b=Object(n.useState)(!1),g=Object(s.a)(b,2),O=g[0],y=g[1],w=Object(i.f)();return l.a.createElement("div",{class:"wrapper"},l.a.createElement(v,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Add News")),l.a.createElement("div",{class:"col-sm-6"}))))," ",l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("section",{class:"content"},l.a.createElement("div",{class:"col-md-12"},l.a.createElement("div",{class:"card card-primary"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h3",{class:"card-title"},"Add News")),l.a.createElement("form",null,l.a.createElement("div",{class:"card-body"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"exampleInputEmail1"},"Title"),l.a.createElement("input",{type:"text",class:"form-control",id:"exampleInputEmail1",placeholder:"Enter Title",onChange:function(e){return c(e.target.value)},value:a})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"exampleInputPassword1"},"Description"),l.a.createElement("textarea",{class:"form-control",rows:"3",placeholder:"",onChange:function(e){return u(e.target.value)},value:m})),p&&l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{padding:10,position:"relative"}},l.a.createElement("div",{style:{position:"absolute",right:5,top:20,backgroundColor:"white",color:"red",height:15,width:15,borderRadius:10,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),f(null)}},"x")),l.a.createElement("img",{src:URL.createObjectURL(p),style:{width:100,height:100,objectFit:"contain"}}))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"exampleInputFile"},"Image"),l.a.createElement("div",{class:"input-group"},l.a.createElement("div",{class:"custom-file"},l.a.createElement("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",multiple:!0,onChange:function(e){return function(e){f(e.target.files[0])}(e)}}),l.a.createElement("label",{class:"custom-file-label",for:"exampleInputFile"},p?p.name:"Choose Image"))))),l.a.createElement("div",{class:"card-footer"},l.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){return!O&&function(){y(!0);var e=new FormData;e.append("title",a),e.append("description",m),e.append("image",p),h()({method:"post",url:j.ADD_NEWS,data:e,headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e),y(!1),w(-1)}).catch(function(e){console.log(e),y(!1)})}()}},O?"...":"Submit"))))))))))},y=a(6),w=a(21),C=a.n(w);function x(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)([]),r=Object(s.a)(c,2),i=r[0],m=r[1];Object(n.useEffect)(function(){u()},[]);var u=function(){a(!0),h.a.get(j.GET_NEWS).then(function(e){m(Object(y.a)(e.data.news))}).catch(function(e){console.log(e)})},d=function(e){var t=e.date,a=e.title,n=e.index;return l.a.createElement("tr",null,l.a.createElement("td",null,n,"."),l.a.createElement("td",null,a),l.a.createElement("td",null,C()(t).format("DD/MM/YYYY")))};return l.a.createElement("div",{class:"wrapper"},l.a.createElement(v,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"News"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("section",{class:"content"},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:10}},"#"),l.a.createElement("th",null,"Title"),l.a.createElement("th",{style:{width:200}},l.a.createElement(o.b,{to:"/news/add",class:"btn btn-sm btn-info float-right"},"Add News")))),l.a.createElement("tbody",null,i.map(function(e,t){return l.a.createElement(d,Object.assign({},e,{index:t+1}))}))))))))))}var D=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),o=Object(s.a)(r,2),m=o[0],u=o[1],d=Object(n.useState)(),E=Object(s.a)(d,2),p=E[0],f=E[1],b=Object(n.useState)([]),g=Object(s.a)(b,2),O=g[0],w=g[1],C=Object(n.useState)([]),x=Object(s.a)(C,2),D=x[0],I=x[1],S=Object(n.useState)(!1),T=Object(s.a)(S,2),R=T[0],_=T[1],N=Object(n.useState)([]),P=Object(s.a)(N,2),k=P[0],A=P[1],G=Object(i.g)().project_id;Object(n.useEffect)(function(){0!=G&&F(G)},[G]);var F=function(e){h.a.get(j.GET_PROJECT_DT,{params:{project_id:e}}).then(function(e){A(Object(y.a)(e.data.projectDt));var t=e.data.projectDt[0];c(t.category_id),u(t.title),f(t.description)}).catch(function(e){console.log(e)})};return l.a.createElement("div",{class:"wrapper"},l.a.createElement(v,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Add Project")),l.a.createElement("div",{class:"col-sm-6"}))))," ",l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("section",{class:"content"},l.a.createElement("div",{class:"col-md-12"},l.a.createElement("div",{class:"card card-primary"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h3",{class:"card-title"},"Add Project")),l.a.createElement("form",null,l.a.createElement("div",{class:"card-body"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Category"),l.a.createElement("select",{class:"form-control",value:a,onChange:function(e){c(e.target.value)}},l.a.createElement("option",{value:1},"INTERIOR DESIGN"),l.a.createElement("option",{value:2},"ARCHITECTURE"),l.a.createElement("option",{value:3},"PRODUCT DESIGN"),l.a.createElement("option",{value:4},"PUBLIC DESIGN"),l.a.createElement("option",{value:5},"FUNDRAISING DESIGN"),l.a.createElement("option",{value:6},"GREEN DESIGN"))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"exampleInputEmail1"},"Title"),l.a.createElement("input",{type:"text",class:"form-control",id:"exampleInputEmail1",placeholder:"Enter email",onChange:function(e){return u(e.target.value)},value:m})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"exampleInputPassword1"},"Description"),l.a.createElement("textarea",{class:"form-control",rows:"3",placeholder:"",onChange:function(e){return f(e.target.value)},value:p})),l.a.createElement("div",{style:{display:"flex"}},k.map(function(e){return!D.includes(e.image_path)&&l.a.createElement("div",{style:{padding:10,position:"relative"}},l.a.createElement("div",{style:{position:"absolute",right:5,top:20,backgroundColor:"white",color:"red",height:15,width:15,borderRadius:10,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),I([].concat(Object(y.a)(D),[e.image_path]))}},"x")),l.a.createElement("img",{src:"https://adminextra.shoshakamal.com/uploads/projects/"+e.image_path,style:{width:100,height:100,objectFit:"contain"}}))}),Array.from(O).map(function(e,t){return l.a.createElement("div",{style:{padding:10,position:"relative"}},l.a.createElement("div",{style:{position:"absolute",right:5,top:20,backgroundColor:"white",color:"red",height:15,width:15,borderRadius:10,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault();var a=Object(y.a)(O);a.splice(t,1),w(Object(y.a)(a))}},"x")),l.a.createElement("img",{src:URL.createObjectURL(e),style:{width:100,height:100,objectFit:"contain"}}))})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"exampleInputFile"},"Images"),l.a.createElement("div",{class:"input-group"},l.a.createElement("div",{class:"custom-file"},l.a.createElement("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",multiple:!0,onChange:function(e){return function(e){w(Object(y.a)(e.target.files))}(e)}}),l.a.createElement("label",{class:"custom-file-label",for:"exampleInputFile"},O.length>0?Array.from(O).map(function(e){return e.name}).join(","):"Choose Images"))))),l.a.createElement("div",{class:"card-footer"},l.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){return!R&&function(){_(!0);var e=new FormData;e.append("project_id",G),e.append("category_id",a),e.append("title",m),e.append("description",p),e.append("deleted_images",D),Array.from(O).forEach(function(t){e.append("images[]",t)}),h()({method:"post",url:0==G?j.ADD_PROJECT:j.UPD_PROJECT,data:e,headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e),_(!1)}).catch(function(e){console.log(e),_(!1)})}()}},R?"...":"Submit"))))))))))};function I(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)([]),r=Object(s.a)(c,2),i=r[0],m=r[1];Object(n.useEffect)(function(){u()},[]);var u=function(){a(!0),h.a.get(j.GET_PROJECT).then(function(e){m(Object(y.a)(e.data.projects))}).catch(function(e){console.log(e)})},d=function(e){var t=e.project_id,a=e.title,n=e.category,c=e.index;return l.a.createElement("tr",null,l.a.createElement("td",null,c,"."),l.a.createElement("td",null,l.a.createElement(o.b,{to:"/add/".concat(t)},a)),l.a.createElement("td",null,n))};return l.a.createElement("div",{class:"wrapper"},l.a.createElement(v,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Projects"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("section",{class:"content"},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:10}},"#"),l.a.createElement("th",null,"Title"),l.a.createElement("th",{style:{width:200}},l.a.createElement(o.b,{to:"/add/0",class:"btn btn-sm btn-info float-right"},"Add Project")))),l.a.createElement("tbody",null,i.map(function(e,t){return l.a.createElement(d,Object.assign({},e,{index:t+1}))}))))))))))}function S(){localStorage.getItem("JRMUser");return l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(I,null)}),l.a.createElement(i.a,{path:"/add/:project_id",element:l.a.createElement(D,null)}),l.a.createElement(i.a,{path:"/news",element:l.a.createElement(x,null)}),l.a.createElement(i.a,{path:"/news/add",element:l.a.createElement(O,null)}))}var T=function(){return l.a.createElement(o.a,null,l.a.createElement(S,null))};r.a.render(l.a.createElement(T,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.89d477bd.chunk.js.map